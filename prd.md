# 产品需求文档 (PRD)

## 项目概述

### 项目名称
告警监控系统 - 机构KPI指标监控平台

### 项目背景
为了实时监控各分中心的业务指标完成情况，需要构建一个可视化的告警监控系统，帮助管理层快速识别问题机构和具体的问题指标，提升管理效率。

### 项目目标
- 实时展示各机构的关键指标告警状态
- 提供直观的可视化流程图展示指标层级关系
- 快速定位问题节点，支持精准决策

## 功能需求

### 1. 主界面 - 告警表格

#### 1.1 表格结构
- **行维度**：机构名称
  - 深圳分中心
  - 上海分中心
  - 北京分中心
  - 广州分中心
  - （其他分中心...）

- **列维度**：基础告警项
  - 策略下发
  - 首问未回
  - 主题（特殊列，支持点击交互）
  - 系统运维
  - 客户满意度
  - （其他告警项...）

#### 1.2 告警状态显示
- **红灯闪烁**：该告警项达到预警条件，表示异常状态
- **绿灯闪烁**：该告警项正常，表示达标状态
- **灯光效果**：采用呼吸灯效果，增强视觉冲击力

#### 1.3 特殊功能 - 主题列
- 主题列的灯光支持点击交互
- 点击后弹出模态窗口，展示详细的流程图

### 2. 弹窗 - 流程图详情

#### 2.1 弹窗基本信息
- 模态窗口形式，覆盖主界面
- 支持关闭操作
- 响应式设计，适配不同屏幕尺寸

#### 2.2 流程图结构（树形结构）
采用四级层级结构：

**第一级：机构节点（根节点）**
- 深圳分中心
- 上海分中心
- 等...

**第二级：主题节点**
- 做大银管
- 财富管理
- 风险控制
- 客户拓展

**第三级：KPI指标节点**
- 银管月日均净增
- 理财产品销售额
- 风险资产占比
- 新客户获取数

**第四级：过程指标节点**
- 重点商机跟进率
- 吸金率
- 基础理财覆盖率
- 客户活跃度
- 投诉处理及时率

#### 2.3 节点状态显示
- **告警色（红色系）**：指标不达标，需要关注
- **正常色（绿色系）**：指标达标，运行良好
- **节点信息**：显示指标名称和当前状态值

#### 2.4 交互功能
- 节点可展开/收起
- 鼠标悬停显示详细信息
- 支持拖拽和缩放操作

### 3. 数据更新机制
- 实时数据刷新（建议5-10秒间隔）
- 支持手动刷新
- 数据异常时显示错误提示

## 用户体验需求

### 1. 视觉设计
- **主题色调**：暗色系主题
- **背景色**：深色背景，减少视觉疲劳
- **强调色**：红色（告警）、绿色（正常）、蓝色（信息）
- **字体**：清晰易读，支持中文显示

### 2. 交互体验
- 响应速度快，操作流畅
- 明确的视觉反馈
- 简洁直观的操作方式

### 3. 兼容性要求
- 支持主流浏览器（Chrome、Firefox、Edge）
- 支持桌面端和平板端访问
- 支持不同分辨率屏幕

## 数据结构示例

### 告警表格数据
```json
{
  "institutions": [
    {
      "name": "深圳分中心",
      "alerts": {
        "策略下发": "normal", // normal | warning
        "首问未回": "warning",
        "主题": "warning",
        "系统运维": "normal"
      }
    }
  ]
}
```

### 流程图数据
```json
{
  "institution": "深圳分中心",
  "themes": [
    {
      "name": "做大银管",
      "status": "warning",
      "kpis": [
        {
          "name": "银管月日均净增",
          "status": "warning",
          "processIndicators": [
            {
              "name": "重点商机跟进率",
              "status": "warning",
              "value": "65%",
              "target": "80%"
            }
          ]
        }
      ]
    }
  ]
}
```

## 优先级定义

### P0 (必须实现)
- 告警表格基本展示
- 灯光状态显示
- 主题点击弹窗
- 基础流程图展示

### P1 (重要功能)
- 实时数据刷新
- 节点交互功能
- 响应式设计

### P2 (优化功能)
- 高级交互效果
- 性能优化
- 数据导出功能

## 验收标准

1. 表格正确显示各机构告警状态
2. 灯光效果符合设计要求
3. 点击主题列能正确弹出流程图
4. 流程图结构清晰，状态显示准确
5. 整体界面符合暗色系主题要求
6. 在主流浏览器中正常运行

## 后续规划

1. 支持更多告警项配置
2. 增加历史数据查看功能
3. 支持告警规则自定义
4. 集成消息通知功能